local progressInfo = [[
--- y: Done n: Not Finished d: Deleted ---
--- Cocos Class-----
ccColor4	390	y
	a	3	y
	r	2	y
	b	2	y
	g	2	y
ccColor3	249	y
	r	2	y
	b	2	y
	g	2	y
CCDirector	241	y
	winSize	179	d
	schedule	97	y
	unschedule	65	y
	scheduler	30	y
	currentScene	8	y
	eclapsedInterval	8	y
	pause	6	d
	notificationNode	6	d
	sceneStackSize	4	y
	popScene	3	y
	replaceScene	2	y
	stop	1	d
	resume	1	d
	updateInterval	1	y
	drawInterval	1	y
	run	1	y
	displayStats	1	y
	numberOfDraws	1	d
CCSize	214	y
	height	885	y
	width	849	y
	zero	397	y
CCMenu	146	y
	addChild	1138	y
	enabled	318	y
	runAction	206	y
	DefaultHandlerPriority	61	d
	alignItems	43	y
	alignItemsVertically	6	y
	alignItemsHorizontally	1	y
	moveAndCullItems	1	y
CCDrawNode	132	y
	drawPolygon	84	y
	drawDot	52	y
	drawSegment	26	y
	clear	4	y
CCNode	129	y
	addChild	1138	y
	height	885	y
	width	849	y
	visible	587	y
	slot	571	y
	position	533	y
	emit	399	y
	positionX	392	y
	positionY	381	y
	children	261	y
	contentSize	247	y
	opacity	241	y
	color	236	y
	gslot	219	y
	anchor	214	y
	scaleX	212	y
	runAction	206	y
	scaleY	202	y
	parent	170	y
	angle	109	y
	schedule	97	y
	removeChild	92	y
	unschedule	65	y
	convertToNodeSpace	60	y
	cascadeOpacity	59	y
	stopAllActions	45	y
	transformTarget	40	y
	cascadeColor	39	y
	eachChild	32	y
	data	31	y
	scheduler	30	y
	skewY	25	y
	skewX	25	y
	removeAllChildrenWithCleanup	23	y
	cleanup	18	y
	convertToWorldSpace	17	y
	tag	15	y
	zOrder	9	y
	stopAction	8	y
	scheduled	7	y
	numberOfRunningActions	6	y
	boundingBox	5	y
	getChildByTag	5	y
	perform	3	y
	addTo	3	y
	removeChildByTag	2	y
	running	2	y
CCTouch	100	y
	delta	52	y
	location	46	y
	preLocation	18	y
	id	7	y
CCArray	100	y
	insert	214	y
	remove	52	y
	index	32	y
	each	12	y
	get	8	y
	last	7	y
	count	7	y
	set	7	y
	exchange	5	y
	clear	4	y
	removeLast	3	y
	add	2	y
	reverse	1	y
	contains	1	y
CCScene	63	y
	addChild	1138	y
	fade	13	d
	crossFade	8	d
	move	8	d
CCRect	62	y
	height	885	y
	width	849	y
	y	482	y
	x	448	y
	zero	397	y
	origin	49	y
	size	22	y
	containsPoint	21	y
	bottom	20	y
	left	20	y
	right	19	y
	top	15	y
	intersectsRect	10	y
	set	7	y
	centerY	2	y
	centerX	2	y
CCLayer	37	y
	addChild	1138	y
	slot	571	y
	touchEnabled	214	y
	touchPriority	143	y
	schedule	97	y
	swallowTouches	73	y
	unschedule	65	y
	convertToNodeSpace	60	y
	multiTouches	4	y
	keypadEnabled	1	y
CCSprite	29	y
	texture	144	y
	textureRect	14	y
	blendFunc	3	y
CCLayerColor	25	d
	blendFunc	3	d
	resetColor	3	d
CCMenuItem	24	y
	addChild	1138	y
	slot	571	y
	enabled	318	y
CCClipNode	11	y
	stencil	4	y
CCUserDefault	10	n
	get	8	n
	set	7	n
	filePath	2	n
ccBlendFunc	9	y
	Zero	3	y
	One	3	y
CCDictionary	9	y
	each	13	y
	count	11	y
	get	8	y
	set	7	y
	clear	4	y
	keys	3	y
CCObject	9	y
	count	11	y
	id	7	y
	callRefCount	2	y
	luaRefCount	2	y
	ref	1	y
	maxCount	1	y
	maxLuaRefCount	1	y
	maxCallRefCount	1	y
CCLabelBMFont	8	y
	text	247	y
	texture	144	y
	colorText	19	y
	getChar	3	y
	AutomaticWidth	2	y
	horizontalAlignment	1	y
CCRenderTarget	8	y
	save	13	y
	endDraw	8	y
	draw	8	y
	beginDraw	8	y
CCTextAlign	7	y
	HLeft	5	y
	HCenter	1	y
	HRight	1	y
CCTargetPlatform	6	y
	Iphone	2	y
	Ipad	2	y
	MacOS	1	y
	Windows	1	y
CCApplication	6	y
	targetPlatform	6	y
CCKeyboard	6	y
	isKeyPressed	6	y
CCScheduler	5	y
	schedule	97	y
	unschedule	65	y
	timeScale	4	y
CCTextFieldTTF	4	y
	text	247	y
	attachWithIME	12	y
	detachWithIME	12	y
	placeHolder	8	y
	colorPlaceHolder	1	y
CCOrientation	3	n
	Up	9	n
	Down	8	n
	Right	6	n
	Left	6	n
CCView	2	n
	scaleX	212	d
	scaleY	202	d
	setDesignResolution	1	y
	ExactFit	1	n
CCEase	2	y
	sineInOut	2	y
CCGrid	1	n
	stop	1	n
	twirl	1	n
CCProgressTimer	1	n
	type	83	n
	sprite	76	n
	reverseDirection	2	n
Pool	4	d
	collect	1	d
	size	4	d
Texture	24	y
	unload	12	y
	removeUnused	7	y
	loadAsync	5	y
	add	4	y
	load	2	y
Particle	2	y
	unload	12	y
	removeUnused	7	y
	loadAsync	5	y
	load	2	y
Model	1	y
	save	1	d
	unload	1	y
	loadAsync	1	y
	loadData	1	y
	getClipFile	1	d
	getLookNames	1	y
	getClipNames	1	y
	getAnimationNames	1	y
Body	1	n
	load	1	n
	unload	1	n
Effect	1	y
	load	1	y
----- Dorothy Class-----
oVec2	1861	y
	y	482	y
	x	448	y
	zero	397	y
	angle	109	y
	length	25	y
	normalize	17	y
	distance	14	y
	clamp	1	y
oEase	394	y
	OutQuad	177	y
	OutBack	116	y
	InBack	53	y
	OutElastic	8	y
	Linear	6	y
	OutExpo	6	y
	func	5	y
	InQuad	2	y
	InSine	1	y
	OutSine	1	y
oContent	259	y
	exist	90	y
	remove	53	y
	saveToFile	42	y
	getEntries	36	y
	mkdir	29	y
	writablePath	12	y
	loadFile	9	y
	addSearchPath	4	y
	copyAsync	4	y
	removeSearchPath	2	y
	loadFileAsync	1	y
oLine	146	y
	set	7	y
oCache	103	y
	Texture	24	y
	Model	23	y
	Clip	20	y
	Effect	10	n
	removeUnused	7	y
	Animation	5	y
	loadAsync	5	y
	clear	4	y
	Pool	3	d
	Particle	2	y
oBodyDef	49	y
	position	533	y
	angle	109	y
	face	85	y
	type	83	y
	angularDamping	15	y
	fixedRotation	15	y
	gravityScale	15	y
	isBullet	15	y
	linearDamping	15	y
	loop	14	y
	attachPolygon	14	y
	Dynamic	12	y
	facePos	12	y
	attachPolygonSensor	10	y
	attachCircle	8	y
	circle	7	y
	attachLoop	6	y
	attachChain	5	y
	attachCircleSensor	5	y
	Static	5	y
	polygon	5	y
	Kinematic	2	y
	chain	1	y
oRoutine	28	y
	remove	53	y
	start	13	y
	clear	4	y
	stop	1	y
oJointDef	20	y
	position	533	y
	angle	109	y
	distance	14	y
	rope	4	y
	pulley	3	y
	spring	3	y
	revolute	3	y
	weld	3	y
	prismatic	3	y
	gear	3	y
	center	2	y
	friction	2	y
	wheel	1	y
oBody	20	y
	bodyDef	171	y
	world	41	y
	group	35	y
	owner	17	y
	angularDamping	15	y
	linearDamping	15	y
	attach	5	y
	attachSensor	3	y
	sensor	3	y
	angularRate	2	y
	receivingContact	1	y
	getSensorByTag	1	y
	destroy	1	y
	mass	1	y
oData	17	y
	GroupTerrain	5	y
	GroupDetect	3	y
	GroupHide	3	y
	GroupDetectPlayer	3	y
	apply	2	y
	isTerrain	1	y
oJoint	14	y
	world	41	y
	distance	14	y
	move	8	y
	rope	4	y
	revolute	3	y
	weld	3	y
	gear	3	y
	pulley	3	y
	prismatic	3	y
	spring	3	y
	friction	2	y
	destroy	1	y
	wheel	1	y
oAI	11	y
	self	7	y
	clear	4	y
	add	2	y
oModel	9	y
	look	31	y
	duration	21	y
	loop	14	y
	reset	14	y
	faceRight	7	y
	time	6	y
	pause	6	y
	speed	6	y
	play	4	y
	playing	2	y
	resume	1	y
	getChildByName	1	y
	recovery	1	y
	stop	1	y
oWorld	6	y
	gravity	14	y
	setShouldContact	10	y
	showDebug	9	y
	setIterations	5	y
	query	5	y
	getShouldContact	1	y
oPlatformWorld	5	y
	camera	34	y
	UILayer	14	y
	swapLayer	6	y
	setLayerOffset	6	y
	getLayer	6	y
	setLayerRatio	2	y
	removeLayer	1	y
oUnit	4	y
	height	885	y
	width	849	y
	remove	53	y
	unitDef	20	y
	model	19	y
	start	13	y
	get	8	y
	move	8	y
	faceRight	7	y
	set	7	y
	jump	7	y
	clear	4	y
	reflexArc	4	y
	isDoing	3	y
	detectDistance	1	y
	stop	1	y
	moveSpeed	1	y
	maxHp	1	y
	currentAction	1	y
	sensity	1	y
oEffect	4	y
	start	13	y
	autoRemove	3	y
	playing	2	y
	update	2	y
	stop	1	y
oAction	3	y
	name	134	y
	owner	17	y
	clear	4	y
	add	2	y
	doing	2	y
	recovery	1	y
	priority	1	y
	reaction	1	y
oUnitDef	2	y
	bodyDef	171	y
	name	134	y
	scale	71	y
	size	22	y
	model	19	y
	tag	15	y
	move	8	y
	jump	7	y
	reflexArc	4	y
	static	2	y
	setActions	2	y
	restitution	2	y
	friction	2	y
	density	2	y
	detectDistance	1	y
	maxHp	1	y
	sensity	1	y
oNode3D	1	y
	angleX	4	y
----- Other Class-----
math	430	d
	floor	168	d
	ceil	73	d
	max	53	d
	min	44	d
	cos	23	d
	sin	23	d
	pi	16	d
	abs	16	d
	rad	6	d
	acos	3	d
	atan2	3	d
	pow	2	d
	deg	1	d
	tan	1	d
	huge	1	d
table	319	d
	insert	217	d
	remove	53	d
	concat	26	d
	sort	23	d
string	90	d
	format	60	d
	gsub	43	d
	match	10	d
	char	8	d
	lower	8	d
	find	6	d
	len	4	d
	rep	3	d
	upper	3	d
	dump	2	d
	gmatch	1	d
	reverse	1	d
	sub	1	d
tolua	26	y
	type	83	y
	class	64	y
package	8	d
	path	39	d
	loaded	8	d
debug	7	y
	getmetatable	10	d
	debug	7	d
	getinfo	7	d
	getlocal	6	d
	setfenv	3	d
	setmetatable	1	d
	traceback	1	y
io	1	d
	type	83	d
	output	47	d
	input	30	d
	lines	3	d
	close	2	d
	read	1	d
	open	1	d
----- Cocos Function-----
CCSequence	181	y
CCLabelTTF	98	y
CCCall	77	y
CCDelay	65	y
CCHide	50	y
CCSpawn	44	y
CCShow	22	y
cclog	9	y
CCRepeatForever	7	n
CCProgress	2	n
CCRepeat	2	n
----- Dorothy Function-----
oOpacity	221	y
oScale	194	y
oPos	83	y
once	50	y
oCon	9	y
oAct	6	y
oRotate	4	y
----- Other Function-----
require	2168	y
tostring	448	d
emit	399	y
property	145	y
pairs	126	d
ipairs	108	d
sleep	97	y
type	93	d
print	75	y
Dorothy	69	y
using	60	y
thread	41	y
setmetatable	32	d
unpack	25	d
rawget	18	d
load	17	y
select	17	d
module	13	d
dofile	12	y
rawset	12	d
getmetatable	10	d
tonumber	10	d
error	10	d
wait	6	y
seconds	5	y
loadfile	5	y
setfenv	3	d
loadstring	3	y
loop	2	y
ubox	2	y
assert	2	d
next	1	d
xmlToLua	1	y
]]

local cocosTotal = 0
local cocosCount = 0
local otherTotal = 0
local otherCount = 0
local isCocos = true
for line in progressInfo:gmatch("([^\n]+)\n") do
	if not line:match("^%-") then
		if not line:match("d$") then
			if isCocos then cocosTotal = cocosTotal + 1
			else otherTotal = otherTotal + 1 end
			if not line:match("n$") then
				if isCocos then cocosCount = cocosCount + 1
				else otherCount = otherCount + 1 end
			end
		end
	else
		isCocos = line:match("Cocos") ~= nil
	end
end
local result = string.format("```\nRedo: %d/%d %.2f%%\n```\n",cocosCount,cocosTotal,cocosCount*100/cocosTotal)
result = result..string.format("```\nShip: %d/%d %.2f%%\n```\n",otherCount,otherTotal,otherCount*100/otherTotal)

local function displayProgress(percent)
	local length = 15
	local n = math.floor(percent*length+0.5)
	return string.format("[ %s%s ] %.2f%%", string.rep("#",n), string.rep(" ",length-n), percent*100)
end
result = result..string.format("```\nTotal: %s\n```\n",displayProgress((otherCount+cocosCount)/(cocosTotal+otherTotal)))

local file = io.open("../README.md","r")
local readme = file:read("*a")
file:close()
readme = readme:gsub("##当前进度.*","##当前进度  \n")
readme = readme..result
file = io.open("../README.md","w+")
file:write(readme)
file:close()
